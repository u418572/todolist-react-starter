{"version":3,"sources":["assets/images/ac-logo.svg","api/auth.js","contexts/AuthContext.jsx","pages/HomePage.jsx","components/common/auth.styled.js","assets/images/check-active.svg","assets/images/check-circle.svg","assets/images/check-hover.svg","components/AuthInput.jsx","components/Header.jsx","components/TodoInput.jsx","components/TodoItem.jsx","components/TodoCollection.jsx","components/Footer.jsx","pages/LoginPage.jsx","pages/SignUpPage.jsx","api/todos.js","pages/TodoPage.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["_path","_path2","_path3","_path4","authURL","login","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","username","password","_yield$axios$post","data","wrap","_context","prev","next","axios","post","concat","sent","console","log","authToken","abrupt","_objectSpread","success","t0","error","stop","_x","apply","arguments","register","_ref4","_callee2","_ref3","email","_yield$axios$post2","_context2","_x2","checkPermission","_ref5","_callee3","response","_context3","get","headers","Authorization","_x3","defaultAuthContext","isAuthenticated","currentMember","logout","AuthContext","createContext","useAuth","useContext","AuthProvider","children","_useState","useState","_useState2","_slicedToArray","setIsAuthenticated","_useState3","_useState4","payload","setPayload","pathname","useLocation","useEffect","checkTokenIsValid","tempPayload","localStorage","getItem","jwt","_jsx","Provider","value","id","sub","name","_register2","_yield$_register","setItem","_login2","_yield$_login","removeItem","HomePage","navigate","useNavigate","StyedContainer","styled","div","_templateObject","_taggedTemplateLiteral","StyledAuthInputContainer","_templateObject2","StyledButton","button","_templateObject3","StyledLinkText","_templateObject4","_excluded","_extends","Object","assign","bind","target","i","length","source","key","prototype","hasOwnProperty","call","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgAcLogo","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","fillRule","clipRule","d","ForwardRef","StyledContainer","StyledLabel","label","StyledInput","input","AuthInput","type","placeholder","onChange","_jsxs","event","StyledHeader","header","StyledGreetingText","Header","StyledAddTodoContainer","StyledLabelIcon","StyledInputContainer","StyledAddTodoActionContainer","TodoInput","inputValue","onKeyDown","onAddTodo","className","clsx","active","htmlFor","e","onClick","StyledTaskItem","CheckActiveIcon","CheckCircleIcon","CheckHoverIcon","TodoItem","todo","onToggleDone","onSave","onDelete","onChangeMode","inputRef","useRef","done","isDone","edit","isEdit","onDoubleClick","defaultValue","current","Key","TodoCollection","todos","map","item","StyledFooter","footer","Footer","numOfTodos","LoginPage","userName","setUserName","setPassword","_useAuth","handleClick","Swal","fire","icon","showConfirmButton","timer","position","AuthContainer","ACLogoIcon","AuthInputContainer","nameInputValue","passwordInputValue","AuthButton","Link","to","AuthLinkText","SignUpPage","setUsername","_useState5","_useState6","setEmail","emailInputValue","baseUrl","axiosInstance","create","baseURL","interceptors","request","use","config","token","getTodos","res","createTodo","patchTodo","patch","deleteTodo","_callee4","_context4","delete","TodoPage","setInputValue","setTodos","todoNums","handleAddTodo","prevTodos","_toConsumableArray","handleKeyDown","handleToggleDone","currentTodo","find","handleSave","_ref6","handleDelete","_ref7","_callee5","_context5","filter","getTodosAsync","_ref8","_callee6","_todos","_context6","App","BrowserRouter","Routes","Route","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","React","StrictMode"],"mappings":"+cAAIA,EAAOC,EAAQC,EAAQC,E,+GCErBC,EAAU,0CAEHC,EAAK,eAAAC,EAAAC,YAAAC,cAAAC,MAAG,SAAAC,EAAAC,GAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAP,cAAAQ,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAA2B,OAAlBP,EAAQD,EAARC,SAAUC,EAAQF,EAARE,SAAQI,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAErBC,IAAMC,KAAK,GAADC,OAAIlB,EAAO,UAAU,CACpDQ,WACAC,aACC,KAAD,EAEe,GAFfC,EAAAG,EAAAM,KAHMR,EAAID,EAAJC,KAIRS,QAAQC,IAAIV,IACUA,EAAdW,UACM,CAADT,EAAAE,KAAA,gBAAAF,EAAAU,OAAA,SAAAC,YAAA,CACFC,SAAS,GAASd,IAAI,eAAAE,EAAAU,OAAA,SAE1BZ,GAAI,QAAAE,EAAAC,KAAA,GAAAD,EAAAa,GAAAb,EAAA,SAEXO,QAAQO,MAAM,kBAAiBd,EAAAa,IAAS,yBAAAb,EAAAe,OAAA,GAAAtB,EAAA,mBAE3C,gBAfiBuB,GAAA,OAAA3B,EAAA4B,MAAA,KAAAC,UAAA,KAiBLC,EAAQ,eAAAC,EAAA9B,YAAAC,cAAAC,MAAG,SAAA6B,EAAAC,GAAA,IAAA3B,EAAA4B,EAAA3B,EAAA4B,EAAA1B,EAAA,OAAAP,cAAAQ,MAAA,SAAA0B,GAAA,cAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,OAAkC,OAAzBP,EAAQ2B,EAAR3B,SAAU4B,EAAKD,EAALC,MAAO3B,EAAQ0B,EAAR1B,SAAQ6B,EAAAxB,KAAA,EAAAwB,EAAAvB,KAAA,EAE/BC,IAAMC,KAAK,GAADC,OAAIlB,EAAO,aAAa,CACvDQ,WACA4B,QACA3B,aACC,KAAD,EACe,GADf4B,EAAAC,EAAAnB,KAJMR,EAAI0B,EAAJ1B,MAKcA,EAAdW,UAEM,CAADgB,EAAAvB,KAAA,eAAAuB,EAAAf,OAAA,SAAAC,YAAA,CACFC,SAAS,GAASd,IAAI,cAAA2B,EAAAf,OAAA,SAG1BZ,GAAI,QAAA2B,EAAAxB,KAAA,GAAAwB,EAAAZ,GAAAY,EAAA,SAEXlB,QAAQO,MAAM,sBAAqBW,EAAAZ,IAAS,yBAAAY,EAAAV,OAAA,GAAAM,EAAA,mBAE/C,gBAjBoBK,GAAA,OAAAN,EAAAH,MAAA,KAAAC,UAAA,KAoBRS,EAAe,eAAAC,EAAAtC,YAAAC,cAAAC,MAAG,SAAAqC,EAAOpB,GAAS,IAAAqB,EAAA,OAAAvC,cAAAQ,MAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA9B,KAAA,EAAA8B,EAAA7B,KAAA,EAEpBC,IAAM6B,IAAI,GAAD3B,OAAIlB,EAAO,eAAe,CACxD8C,QAAS,CACPC,cAAe,UAAYzB,KAE5B,KAAD,EAJY,OAARqB,EAAQC,EAAAzB,KAAAyB,EAAArB,OAAA,SAKPoB,EAAShC,KAAKc,SAAO,OAAAmB,EAAA9B,KAAA,EAAA8B,EAAAlB,GAAAkB,EAAA,SAE5BxB,QAAQO,MAAM,6BAA4BiB,EAAAlB,IAAS,yBAAAkB,EAAAhB,OAAA,GAAAc,EAAA,kBAEtD,gBAX2BM,GAAA,OAAAP,EAAAX,MAAA,KAAAC,UAAA,K,eCnCtBkB,EAAqB,CACzBC,iBAAiB,EACjBC,cAAe,KACfnB,SAAU,KACV/B,MAAO,KACPmD,OAAQ,MAGJC,EAAcC,wBAAcL,GACrBM,EAAU,WAAH,OAASC,qBAAWH,EAAa,EACxCI,EAAe,SAAHlD,GAAsB,IAAhBmD,EAAQnD,EAARmD,SAC7BC,EAA8CC,oBAAS,GAAMC,EAAAC,YAAAH,EAAA,GAAtDT,EAAeW,EAAA,GAAEE,EAAkBF,EAAA,GAC1CG,EAA8BJ,mBAAS,MAAKK,EAAAH,YAAAE,EAAA,GAArCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAClBG,EAAaC,cAAbD,SAwBR,OAtBAE,qBAAU,WACR,IAAMC,EAAiB,eAAArE,EAAAC,YAAAC,cAAAC,MAAG,SAAAC,IAAA,IAAAgB,EAAAkD,EAAA,OAAApE,cAAAQ,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAC4B,GAA9CO,EAAYmD,aAAaC,QAAQ,aACxB,CAAD7D,EAAAE,KAAA,QAEK,OADjBgD,GAAmB,GACnBI,EAAW,MAAMtD,EAAAU,OAAA,wBAAAV,EAAAE,KAAA,EAGEyB,EAAgBlB,GAAW,KAAD,EAAnCT,EAAAM,MAEV4C,GAAmB,GACbS,EAAcG,SAAWrD,GAC/B6C,EAAWK,KAEXT,GAAmB,GACnBI,EAAW,OACZ,wBAAAtD,EAAAe,OAAA,GAAAtB,EAAA,KACF,kBAhBsB,OAAAJ,EAAA4B,MAAA,KAAAC,UAAA,KAkBvBwC,GACF,GAAG,CAACH,IAGFQ,cAACvB,EAAYwB,SAAQ,CACnBC,MAAO,CACL5B,kBACAC,cAAee,GAAW,CACxBa,GAAIb,EAAQc,IACZC,KAAMf,EAAQe,MAEhBjD,SAAS,WAAD,IAAAkD,EAAA/E,YAAAC,cAAAC,MAAE,SAAA6B,EAAOvB,GAAI,IAAAwE,EAAA1D,EAAAH,EAAAkD,EAAA,OAAApE,cAAAQ,MAAA,SAAA0B,GAAA,cAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,cAAAuB,EAAAvB,KAAA,EACkBiB,EAAS,CAC5CxB,SAAUG,EAAKH,SACf4B,MAAOzB,EAAKyB,MACZ3B,SAAUE,EAAKF,WACd,KAAD,EASD,OATC0E,EAAA7C,EAAAnB,KAJMM,EAAO0D,EAAP1D,QAASH,EAAS6D,EAAT7D,WAKXkD,EAAcG,SAAWrD,KAE7B6C,EAAWK,GACXT,GAAmB,GACnBU,aAAaW,QAAQ,YAAa9D,KAElC6C,EAAW,MACXJ,GAAmB,IACpBzB,EAAAf,OAAA,SACME,GAAO,wBAAAa,EAAAV,OAAA,GAAAM,EAAA,KACf,gBAAAL,GAAA,OAAAqD,EAAApD,MAAA,KAAAC,UAAA,EAhBQ,GAiBT9B,MAAM,WAAD,IAAAoF,EAAAlF,YAAAC,cAAAC,MAAE,SAAAqC,EAAO/B,GAAI,IAAA2E,EAAA7D,EAAAH,EAAAkD,EAAA,OAAApE,cAAAQ,MAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA7B,KAAA,EACqBd,EAAM,CACzCO,SAAUG,EAAKH,SACfC,SAAUE,EAAKF,WACd,KAAD,EASD,OATC6E,EAAA1C,EAAAzB,KAHMM,EAAO6D,EAAP7D,QAASH,EAASgE,EAAThE,WAIXkD,EAAcG,SAAWrD,KAE7B6C,EAAWK,GACXT,GAAmB,GACnBU,aAAaW,QAAQ,YAAa9D,KAElC6C,EAAW,MACXJ,GAAmB,IACpBnB,EAAArB,OAAA,SACME,GAAO,wBAAAmB,EAAAhB,OAAA,GAAAc,EAAA,KACf,gBAAAH,GAAA,OAAA8C,EAAAvD,MAAA,KAAAC,UAAA,EAfK,GAgBNqB,OAAQ,WACNqB,aAAac,WAAW,aACxBpB,EAAW,MACXJ,GAAmB,EACrB,GACAL,SAEDA,GAGP,EC7Ee8B,EAbE,WACf,IAAQtC,EAAoBK,IAApBL,gBACFuC,EAAWC,cAEjBpB,qBAAU,WAENmB,EADEvC,EACO,SAEA,SAEb,GAAG,CAACuC,EAAUvC,GAChB,E,gBCbMyC,EAAiBC,IAAOC,IAAGC,MAAAC,YAAA,oJAS3BC,EAA2BJ,IAAOC,IAAGI,MAAAF,YAAA,8CAKrCG,EAAeN,IAAOO,OAAMC,MAAAL,YAAA,2QAiB5BM,EAAiBT,IAAOC,IAAGS,MAAAP,YAAA,sEJhC7BQ,EAAY,CAAC,QAAS,WAC1B,SAASC,IAAiS,OAApRA,EAAWC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAI9E,UAAU+E,OAAQD,IAAK,CAAE,IAAIE,EAAShF,UAAU8E,GAAI,IAAK,IAAIG,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQJ,EAAOI,GAAOD,EAAOC,GAAU,CAAE,OAAOJ,CAAQ,EAAUJ,EAAS1E,MAAMsF,KAAMrF,UAAY,CAClV,SAASsF,EAAyBN,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,CAAC,EAAG,IAAkEC,EAAKH,EAAnED,EACzF,SAAuCG,EAAQO,GAAY,GAAc,MAAVP,EAAgB,MAAO,CAAC,EAAG,IAA2DC,EAAKH,EAA5DD,EAAS,CAAC,EAAOW,EAAad,OAAOe,KAAKT,GAAqB,IAAKF,EAAI,EAAGA,EAAIU,EAAWT,OAAQD,IAAOG,EAAMO,EAAWV,GAAQS,EAASG,QAAQT,IAAQ,IAAaJ,EAAOI,GAAOD,EAAOC,IAAQ,OAAOJ,CAAQ,CADhNc,CAA8BX,EAAQO,GAAuB,GAAIb,OAAOkB,sBAAuB,CAAE,IAAIC,EAAmBnB,OAAOkB,sBAAsBZ,GAAS,IAAKF,EAAI,EAAGA,EAAIe,EAAiBd,OAAQD,IAAOG,EAAMY,EAAiBf,GAAQS,EAASG,QAAQT,IAAQ,GAAkBP,OAAOQ,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBJ,EAAOI,GAAOD,EAAOC,GAAQ,CAAE,OAAOJ,CAAQ,CAG3e,SAASkB,EAAUvH,EAAMwH,GACvB,IAAIC,EAAQzH,EAAKyH,MACfC,EAAU1H,EAAK0H,QACfC,EAAQb,EAAyB9G,EAAMgG,GACzC,OAAoB,gBAAoB,MAAOC,EAAS,CACtD2B,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DjD,GAAIkD,GACHD,GAAS,KAAMpI,IAAUA,EAAqB,gBAAoB,OAAQ,CAC3E6I,SAAU,UACVC,SAAU,UACVC,EAAG,mKACHL,KAAM,aACHzI,IAAWA,EAAsB,gBAAoB,OAAQ,CAChE4I,SAAU,UACVC,SAAU,UACVC,EAAG,mWACHL,KAAM,aACHxI,IAAWA,EAAsB,gBAAoB,OAAQ,CAChE2I,SAAU,UACVC,SAAU,UACVC,EAAG,kMACHL,KAAM,aACHvI,IAAWA,EAAsB,gBAAoB,OAAQ,CAChE0I,SAAU,UACVC,SAAU,UACVC,EAAG,ubACHL,KAAM,aAEV,CACA,I,0BAAIM,GAA0B,aAAiBd,GK1ChC,IL2CA,IK3CA,IAA0B,0CCA1B,OAA0B,yCCA1B,OAA0B,wCCEnCe,GAAkBjD,IAAOC,IAAGC,MAAAC,YAAA,2LAS5B+C,GAAclD,IAAOmD,MAAK9C,MAAAF,YAAA,uEAM1BiD,GAAcpD,IAAOqD,MAAK7C,MAAAL,YAAA,kGAoBjBmD,GAbG,SAAH3I,GAAqD,IAAhD4I,EAAI5I,EAAJ4I,KAAMJ,EAAKxI,EAALwI,MAAOjE,EAAKvE,EAALuE,MAAOsE,EAAW7I,EAAX6I,YAAaC,EAAQ9I,EAAR8I,SACnD,OACEC,eAACT,GAAe,CAAAnF,SAAA,CACdkB,cAACkE,GAAW,CAAApF,SAAEqF,IACdnE,cAACoE,GAAW,CACZG,KAAMA,GAAQ,OACdrE,MAAOA,GAAS,GAChBsE,YAAaA,GAAe,GAC5BC,SAAU,SAACE,GAAK,OAAa,OAARF,QAAQ,IAARA,OAAQ,EAARA,EAAWE,EAAM3C,OAAO9B,MAAM,MAGzD,ECjCM0E,GAAe5D,IAAO6D,OAAM3D,MAAAC,YAAA,mMAc5B2D,GAAqB9D,IAAOC,IAAGI,MAAAF,YAAA,0EAkBtB4D,GAXA,SAAHpJ,GAAoB,IAAfC,EAAQD,EAARC,SACf,OACE8I,eAACE,GAAY,CAAA9F,SAAA,CACXkB,cAAA,MAAAlB,SAAI,UACJ4F,eAACI,GAAkB,CAAAhG,SAAA,CAAC,MACfkB,cAAA,QAAAlB,SAAOlD,SAIlB,E,SC9BMoJ,GAAyBhE,IAAOC,IAAGC,MAAAC,YAAA,uSAgBnC8D,GAAkBjE,IAAOmD,MAAK9C,MAAAF,YAAA,uJAW9B+D,GAAuBlE,IAAOC,IAAGO,MAAAL,YAAA,4XA0BjCgE,GAA+BnE,IAAOC,IAAGS,MAAAP,YAAA,yLA2ChCiE,GA7BI,SAAHzJ,GAAoD,IAA/C0J,EAAU1J,EAAV0J,WAAWC,EAAS3J,EAAT2J,UAAWb,EAAQ9I,EAAR8I,SAASc,EAAS5J,EAAT4J,UAClD,OACEb,eAACM,GAAsB,CAACQ,UAAWC,aAAK,GAAG,CAACC,OAAOL,EAAWnD,OAAS,IAAIpD,SAAA,CACzEkB,cAACiF,GAAe,CAACO,UAAU,OAAOG,QAAQ,mBAC1C3F,cAACkF,GAAoB,CAAApG,SACnBkB,cAAA,SACIG,GAAG,iBACHoE,KAAK,OACLC,YAAY,2BACZtE,MAAOmF,EACPZ,SAAU,SAACmB,GACA,OAARnB,QAAQ,IAARA,KAAWmB,EAAE5D,OAAO9B,MACvB,EACAoF,UAAW,SAACM,GACG,UAAVA,EAAExD,MACM,OAATkD,QAAS,IAATA,OAEJ,MAGNtF,cAACmF,GAA4B,CAACK,UAAWC,aAAK,GAAI,CAACC,OAAQL,EAAWnD,OAAS,IAAIpD,SACjFkB,cAAA,UAAQwF,UAAU,YAAaK,QAAS,kBACzB,OAATN,QAAS,IAATA,OAAS,EAATA,GAAa,EACdzG,SAAC,qBAId,ECvFMgH,GAAiB9E,IAAOC,IAAGC,MAAAC,YAAA,4oDA0CH4E,GA0CFC,GAMEC,IAqCfC,GAhCG,SAAHvK,GAA8D,IAAzDwK,EAAIxK,EAAJwK,KAAMC,EAAYzK,EAAZyK,aAAcC,EAAM1K,EAAN0K,OAAQC,EAAQ3K,EAAR2K,SAAUC,EAAY5K,EAAZ4K,aAClDC,EAAWC,iBAAO,MAYxB,OACEzG,cAAA,OAAAlB,SACE4F,eAACoB,GAAc,CAACN,UAAWC,aAAK,IAAK,CAAEiB,KAAMP,EAAKQ,OAAQC,KAAMT,EAAKU,SAAU/H,SAAA,CAC7EkB,cAAA,OAAKwF,UAAU,oBAAmB1G,SAChCkB,cAAA,QAAMwF,UAAU,oBAAoBK,QAAS,WAAoB,OAAZO,QAAY,IAAZA,KAAeD,EAAKhG,GAAI,MAE/EuE,eAAA,OAAKc,UAAU,iBAAiBsB,cAAe,kBAAkB,OAAZP,QAAY,IAAZA,OAAY,EAAZA,EAAe,CAAEpG,GAAIgG,EAAKhG,GAAI0G,QAAQ,GAAO,EAAC/H,SAAA,CACjGkB,cAAA,QAAMwF,UAAU,sBAAqB1G,SAAEqH,EAAK/C,QAC5CpD,cAAA,SAAO4D,IAAK4C,EAAUhB,UAAU,uBAAuBuB,aAAcZ,EAAK/C,MAAOkC,UAlBnE,SAACX,GAElB6B,EAASQ,QAAQ9G,MAAMgC,OAAS,GAAmB,UAAdyC,EAAMvC,MACtC,OAANiE,QAAM,IAANA,KAAS,CAAClG,GAAGgG,EAAKhG,GAAIiD,MAAMoD,EAASQ,QAAQ9G,SAGhC,WAAZyE,EAAMsC,MACK,OAAZV,QAAY,IAAZA,KAAe,CAACpG,GAAGgG,EAAKhG,GAAI0G,QAAO,IAEvC,OAWM7G,cAAA,OAAKwF,UAAU,oBAAmB1G,SAChCkB,cAAA,UAAQwF,UAAU,6BAA6BK,QAAS,WAAgB,OAARS,QAAQ,IAARA,KAAWH,EAAKhG,GAAI,UAM9F,EClHe+G,GAlBS,SAAHvL,GAA6D,IAAxDwL,EAAKxL,EAALwL,MAAOf,EAAYzK,EAAZyK,aAAaC,EAAM1K,EAAN0K,OAAOC,EAAQ3K,EAAR2K,SAAUC,EAAY5K,EAAZ4K,aAC7D,OACEvG,cAAA,OAAAlB,SACGqI,EAAMC,KAAI,SAAAC,GACT,OAAOrH,cAACkG,GAAQ,CACFC,KAAMkB,EACpBjB,aAAc,SAACjG,GAAE,OAAgB,OAAZiG,QAAY,IAAZA,OAAY,EAAZA,EAAejG,EAAG,EACvCkG,OAAQ,SAAA/K,GAAA,IAAE6E,EAAE7E,EAAF6E,GAAIiD,EAAK9H,EAAL8H,MAAK,OAAY,OAANiD,QAAM,IAANA,OAAM,EAANA,EAAS,CAAClG,KAAIiD,SAAO,EAC9CkD,SAAU,SAACnG,GAAE,OAAa,OAARmG,QAAQ,IAARA,OAAQ,EAARA,EAAWnG,EAAG,EAChCoG,aAAc,SAAAhJ,GAAA,IAAE4C,EAAE5C,EAAF4C,GAAI0G,EAAMtJ,EAANsJ,OAAM,OACZ,OAAZN,QAAY,IAAZA,OAAY,EAAZA,EAAe,CAACpG,KAAI0G,UAAQ,GALzBQ,EAAKlH,GAOZ,KAIN,ECfMmH,GAAetG,IAAOuG,OAAMrG,QAAAC,YAAA,wKAY5BG,GAAeN,IAAOO,OAAMF,QAAAF,YAAA,sVAqCnBqG,GAlBC,SAAH7L,GAAsB,IAAjB8L,EAAU9L,EAAV8L,WAETjJ,EAAWG,IAAXH,OAQP,OACEkG,eAAC4C,GAAY,CAAAxI,SAAA,CACX4F,eAAA,KAAA5F,SAAA,CAAG,wCAAQ2I,KACXzH,cAACsB,GAAY,CAACuE,QATE,WAClBrH,GAGF,EAKuCM,SAAC,mBAG1C,E,oBCqDe4I,GAzFG,WAClB,IAAA3I,EAA+BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAArC4I,EAAQ1I,EAAA,GAAE2I,EAAW3I,EAAA,GAC3BG,EAA+BJ,mBAAS,IAAGK,EAAAH,YAAAE,EAAA,GAArCvD,EAAQwD,EAAA,GAAEwI,EAAWxI,EAAA,GACrBwB,EAAWC,cACjBgH,EAAkCnJ,IAA1BtD,EAAKyM,EAALzM,MAAOiD,EAAewJ,EAAfxJ,gBAETyJ,EAAW,eAAApM,EAAAJ,YAAAC,cAAAC,MAAG,SAAAC,IAAA,OAAAF,cAAAQ,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACM,IAApBwL,EAASzF,OAAY,CAAAjG,EAAAE,KAAA,eAAAF,EAAAU,OAAA,oBAGD,IAApBd,EAASqG,OAAY,CAAAjG,EAAAE,KAAA,eAAAF,EAAAU,OAAA,wBAAAV,EAAAE,KAAA,EAIJd,EAAM,CACzBsM,WACA9L,aACC,KAAD,EAHW,IAAAI,EAAAM,KAID,CAADN,EAAAE,KAAA,SAST,OAPA6L,KAAKC,KAAK,CACR7E,MAAO,2BACP8E,KAAM,UACNC,mBAAmB,EACnBC,MAAO,IACPC,SAAU,QAEZpM,EAAAU,OAAA,kBAGFqL,KAAKC,KAAK,CACN7E,MAAO,2BACP8E,KAAM,QACNC,mBAAmB,EACnBC,MAAO,IACPC,SAAU,QACV,yBAAApM,EAAAe,OAAA,GAAAtB,EAAA,KACL,kBA/BgB,OAAAC,EAAAuB,MAAA,KAAAC,UAAA,KAmDf,OAlBFuC,qBAAU,WACJpB,GACFuC,EAAS,SAcX,GAAG,CAACA,EAAUvC,IAGZoG,eAAC4D,EAAa,CAAAxJ,SAAA,CACZkB,cAAA,OAAAlB,SACEkB,cAACuI,GAAU,MAEbvI,cAAA,MAAAlB,SAAI,sBAEJkB,cAACwI,EAAkB,CAAA1J,SACjBkB,cAACsE,GAAS,CACRH,MAAM,eACNjE,MAAOyH,EACPnD,YAAY,iCACZC,SAAU,SAACgE,GAAc,OAAKb,EAAYa,EAAe,MAG7DzI,cAACwI,EAAkB,CAAA1J,SACjBkB,cAACsE,GAAS,CACRC,KAAK,WACLJ,MAAM,eACNjE,MAAOrE,EACP2I,YAAY,iCACZC,SAAU,SAACiE,GAAkB,OAAKb,EAAYa,EAAmB,MAErE1I,cAAC2I,EAAU,CAAC9C,QAASkC,EAAYjJ,SAAC,iBAClCkB,cAAC4I,IAAI,CAACC,GAAG,UAAS/J,SACxBkB,cAAC8I,EAAY,CAAAhK,SAAC,qBAKd,ECoBeiK,GA1GI,WACjB,IAAAhK,EAA+BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAArCnD,EAAQqD,EAAA,GAAE+J,EAAW/J,EAAA,GAC7BG,EAA+BJ,mBAAS,IAAGK,EAAAH,YAAAE,EAAA,GAArCvD,EAAQwD,EAAA,GAAEwI,EAAWxI,EAAA,GAC3B4J,EAA0BjK,mBAAS,IAAGkK,EAAAhK,YAAA+J,EAAA,GAA/BzL,EAAK0L,EAAA,GAAEC,EAAQD,EAAA,GAChBrI,EAAWC,cACjBgH,EAAoCnJ,IAA7BvB,EAAQ0K,EAAR1K,SAAUkB,EAAewJ,EAAfxJ,gBAEVyJ,EAAW,eAAApM,EAAAJ,YAAAC,cAAAC,MAAG,SAAAC,IAAA,OAAAF,cAAAQ,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACS,IAApBP,EAASsG,OAAY,CAAAjG,EAAAE,KAAA,eAAAF,EAAAU,OAAA,oBAGD,IAApBd,EAASqG,OAAY,CAAAjG,EAAAE,KAAA,eAAAF,EAAAU,OAAA,oBAGJ,IAAjBa,EAAM0E,OAAY,CAAAjG,EAAAE,KAAA,eAAAF,EAAAU,OAAA,wBAAAV,EAAAE,KAAA,EAIFiB,EAAS,CAC7BxB,WACA4B,QACA3B,aACC,KAAD,EAJW,IAAAI,EAAAM,KAMD,CAADN,EAAAE,KAAA,SAST,OAPA6L,KAAKC,KAAK,CACRI,SAAU,MACVjF,MAAO,iCACPgF,MAAO,IACPF,KAAM,UACNC,mBAAmB,IAErBlM,EAAAU,OAAA,kBAGFqL,KAAKC,KAAK,CACRI,SAAU,MACVjF,MAAO,iCACPgF,MAAO,IACPF,KAAM,QACNC,mBAAmB,IAClB,yBAAAlM,EAAAe,OAAA,GAAAtB,EAAA,KACJ,kBApCe,OAAAC,EAAAuB,MAAA,KAAAC,UAAA,KAwDhB,OAlBAuC,qBAAU,WACLpB,GACHuC,EAAS,SAcX,GAAG,CAACA,EAAUvC,IAGZoG,eAAC4D,EAAa,CAAAxJ,SAAA,CACZkB,cAAA,OAAAlB,SACEkB,cAACuI,GAAU,MAEbvI,cAAA,MAAAlB,SAAI,yCAEJkB,cAACwI,EAAkB,CAAA1J,SACjBkB,cAACsE,GAAS,CACVH,MAAM,eACNjE,MAAOtE,EACP4I,YAAY,iCACZC,SAAU,SAACgE,GAAc,OAAKO,EAAYP,EAAe,MAI3DzI,cAACwI,EAAkB,CAAA1J,SACjBkB,cAACsE,GAAS,CACVH,MAAM,QACJjE,MAAO1C,EACPgH,YAAY,2BACZC,SAAU,SAAC2E,GAAe,OAAKD,EAASC,EAAgB,MAI5DpJ,cAACwI,EAAkB,CAAA1J,SACjBkB,cAACsE,GAAS,CACVC,KAAK,WACHJ,MAAM,eACNjE,MAAOrE,EACP2I,YAAY,iCACZC,SAAU,SAACiE,GAAkB,OAAKb,EAAYa,EAAmB,MAGrE1I,cAAC2I,EAAU,CAAC9C,QAASkC,EAAYjJ,SAAC,iBAClCkB,cAAC4I,IAAI,CAACC,GAAG,SAAQ/J,SAChBkB,cAAC8I,EAAY,CAAAhK,SAAC,qBAKrB,E,SCpHMuK,GAAU,qCAEVC,GAAgBlN,IAAMmN,OAAO,CACjCC,QAASH,KAKXC,GAAcG,aAAaC,QAAQC,KAAI,SAACC,GAEpC,IAAMC,EAAQhK,aAAaC,QAAQ,aAInC,OAHG+J,IACDD,EAAO1L,QAAuB,cAAC,UAAA5B,OAAauN,IAEvCD,CACT,IACA,SAAC7M,GAECP,QAAQC,IAAIM,EACd,IAEK,IAAM+M,GAAQ,eAAAnO,EAAAJ,YAAAC,cAAAC,MAAG,SAAAC,IAAA,IAAAqO,EAAA,OAAAvO,cAAAQ,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEFmN,GAAcrL,IAAI,GAAD3B,OAAI+M,GAAO,WAAU,KAAD,EAA9C,OAAHU,EAAG9N,EAAAM,KAAAN,EAAAU,OAAA,SACFoN,EAAIhO,KAAKA,MAAI,OAAAE,EAAAC,KAAA,EAAAD,EAAAa,GAAAb,EAAA,SAEpBO,QAAQO,MAAM,uBAAsBd,EAAAa,IAAS,yBAAAb,EAAAe,OAAA,GAAAtB,EAAA,kBAEhD,kBAPoB,OAAAC,EAAAuB,MAAA,KAAAC,UAAA,KAUR6M,GAAU,eAAA1O,EAAAC,YAAAC,cAAAC,MAAG,SAAA6B,EAAOgC,GAAO,IAAA8D,EAAAuD,EAAAoD,EAAA,OAAAvO,cAAAQ,MAAA,SAAA0B,GAAA,cAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,OACjB,OAAbiH,EAAkB9D,EAAlB8D,MAAOuD,EAAWrH,EAAXqH,OAAMjJ,EAAAxB,KAAA,EAAAwB,EAAAvB,KAAA,EAEDmN,GAAcjN,KAAK,GAADC,OAAI+M,GAAO,UAAU,CACvDjG,QACAuD,WACC,KAAD,EAHO,OAAHoD,EAAGrM,EAAAnB,KAAAmB,EAAAf,OAAA,SAIFoN,EAAIhO,MAAI,OAAA2B,EAAAxB,KAAA,EAAAwB,EAAAZ,GAAAY,EAAA,SAEflB,QAAQO,MAAM,yBAAwBW,EAAAZ,IAAS,yBAAAY,EAAAV,OAAA,GAAAM,EAAA,kBAElD,gBAXsBL,GAAA,OAAA3B,EAAA4B,MAAA,KAAAC,UAAA,KAYV8M,GAAS,eAAA1M,EAAAhC,YAAAC,cAAAC,MAAG,SAAAqC,EAAMwB,GAAO,IAAAa,EAAAiD,EAAAuD,EAAAoD,EAAA,OAAAvO,cAAAQ,MAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,OACZ,OAAjBgE,EAAqBb,EAArBa,GAAIiD,EAAiB9D,EAAjB8D,MAAOuD,EAAUrH,EAAVqH,OAAM3I,EAAA9B,KAAA,EAAA8B,EAAA7B,KAAA,EAELmN,GAAcY,MAAM,GAAD5N,OAAI+M,GAAO,WAAA/M,OAAU6D,GAAK,CAC9DiD,QACAuD,WACA,OAHQ,OAAHoD,EAAG/L,EAAAzB,KAAAyB,EAAArB,OAAA,SAIHoN,EAAIhO,MAAI,OAAAiC,EAAA9B,KAAA,EAAA8B,EAAAlB,GAAAkB,EAAA,SAEfxB,QAAQC,IAAI,uBAAsBuB,EAAAlB,IAAO,yBAAAkB,EAAAhB,OAAA,GAAAc,EAAA,kBAG1C,gBAZqBH,GAAA,OAAAJ,EAAAL,MAAA,KAAAC,UAAA,KAaTgN,GAAU,eAAA9M,EAAA9B,YAAAC,cAAAC,MAAG,SAAA2O,EAAMjK,GAAE,IAAA4J,EAAA,OAAAvO,cAAAQ,MAAA,SAAAqO,GAAA,cAAAA,EAAAnO,KAAAmO,EAAAlO,MAAA,cAAAkO,EAAAnO,KAAA,EAAAmO,EAAAlO,KAAA,EAEdmN,GAAcgB,OAAO,GAADhO,OAAI+M,GAAO,WAAA/M,OAAU6D,IAAK,OAAvD,OAAH4J,EAAGM,EAAA9N,KAAA8N,EAAA1N,OAAA,SACFoN,EAAIhO,MAAI,OAAAsO,EAAAnO,KAAA,EAAAmO,EAAAvN,GAAAuN,EAAA,SAEf7N,QAAQC,IAAI,wBAAuB4N,EAAAvN,IAAO,yBAAAuN,EAAArN,OAAA,GAAAoN,EAAA,kBAE3C,gBAPsBhM,GAAA,OAAAf,EAAAH,MAAA,KAAAC,UAAA,KCsIRoN,GA1LE,WACf,IAAAxL,EAAoCC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAzCsG,EAAUpG,EAAA,GAAEuL,EAAavL,EAAA,GAChCG,EAA0BJ,mBAAS,IAAGK,EAAAH,YAAAE,EAAA,GAA/B+H,EAAK9H,EAAA,GAAEoL,EAAQpL,EAAA,GAChBwB,EAAWC,cACjBgH,EAAyCnJ,IAAlCL,EAAewJ,EAAfxJ,gBAAiBC,EAAauJ,EAAbvJ,cAClBmM,EAAWvD,EAAMjF,OAMjByI,EAAa,eAAAhP,EAAAJ,YAAAC,cAAAC,MAAG,SAAAC,IAAA,IAAAK,EAAA,OAAAP,cAAAQ,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACK,IAAtBkJ,EAAWnD,OAAY,CAAAjG,EAAAE,KAAA,eAAAF,EAAAU,OAAA,wBAAAV,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAIV6N,GAAW,CACzB5G,MAAOiC,EACPsB,QAAQ,IACR,OAHC5K,EAAIE,EAAAM,KAIPkO,GAAS,SAACG,GACR,MAAM,GAANtO,OAAAuO,aACKD,GAAS,CAAC,CACXzK,GAAIpE,EAAKoE,GACTiD,MAAOrH,EAAKqH,MACZuD,OAAQ5K,EAAK4K,OACbE,QAAO,IAGb,IAEA2D,EAAc,IAAGvO,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAa,GAAAb,EAAA,SAEjBO,QAAQO,MAAKd,EAAAa,IAAO,yBAAAb,EAAAe,OAAA,GAAAtB,EAAA,mBAGrB,kBAzBkB,OAAAC,EAAAuB,MAAA,KAAAC,UAAA,KA2Bb2N,EAAa,eAAAxP,EAAAC,YAAAC,cAAAC,MAAG,SAAA6B,IAAA,IAAAvB,EAAA,OAAAP,cAAAQ,MAAA,SAAA0B,GAAA,cAAAA,EAAAxB,KAAAwB,EAAAvB,MAAA,UACK,IAAtBkJ,EAAWnD,OAAY,CAAAxE,EAAAvB,KAAA,eAAAuB,EAAAf,OAAA,wBAAAe,EAAAxB,KAAA,EAAAwB,EAAAvB,KAAA,EAIV6N,GAAW,CACzB5G,MAAOiC,EACPsB,QAAQ,IACR,OAHC5K,EAAI2B,EAAAnB,KAIPkO,GAAS,SAACG,GACR,MAAM,GAANtO,OAAAuO,aACKD,GAAS,CAAC,CACXzK,GAAIpE,EAAKoE,GACTiD,MAAOrH,EAAKqH,MACZuD,OAAQ5K,EAAK4K,OACbE,QAAO,IAGb,IAEA2D,EAAc,IAAG9M,EAAAvB,KAAA,iBAAAuB,EAAAxB,KAAA,GAAAwB,EAAAZ,GAAAY,EAAA,SAEjBlB,QAAQO,MAAKW,EAAAZ,IAAO,yBAAAY,EAAAV,OAAA,GAAAM,EAAA,mBAGpB,kBAzBiB,OAAAhC,EAAA4B,MAAA,KAAAC,UAAA,KA2BZ4N,EAAgB,eAAAxN,EAAAhC,YAAAC,cAAAC,MAAG,SAAAqC,EAAMqC,GAAE,IAAA6K,EAAA,OAAAxP,cAAAQ,MAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,OACoB,OAA9C6O,EAAc7D,EAAM8D,MAAK,SAAA9E,GAAI,OAAIA,EAAKhG,KAAKA,CAAE,IAACnC,EAAA9B,KAAA,EAAA8B,EAAA7B,KAAA,EAElD8N,GAAU,CAAC9J,KAAIwG,QAAQqE,EAAYrE,SAAQ,OAE7C8D,GAAS,SAACG,GACP,OAAOA,EAAUxD,KAAI,SAAAjB,GACpB,OAAGA,EAAKhG,KAAOA,EACbvD,wBAAA,GACKuJ,GAAI,IACPQ,QAAQR,EAAKQ,SAGVR,CACR,GACH,IAAEnI,EAAA7B,KAAA,gBAAA6B,EAAA9B,KAAA,EAAA8B,EAAAlB,GAAAkB,EAAA,SAELxB,QAAQC,IAAGuB,EAAAlB,IAAO,yBAAAkB,EAAAhB,OAAA,GAAAc,EAAA,kBAEf,gBAnBqBb,GAAA,OAAAM,EAAAL,MAAA,KAAAC,UAAA,KAmCjB+N,EAAU,eAAAC,EAAA5P,YAAAC,cAAAC,MAAG,SAAA2O,EAAAvM,GAAA,IAAAsC,EAAAiD,EAAA,OAAA5H,cAAAQ,MAAA,SAAAqO,GAAA,cAAAA,EAAAnO,KAAAmO,EAAAlO,MAAA,OAAgB,OAATgE,EAAEtC,EAAFsC,GAAIiD,EAAKvF,EAALuF,MAAKiH,EAAAnO,KAAA,EAAAmO,EAAAlO,KAAA,EAGzB8N,GAAU,CACd9J,KACAiD,UACC,KAAD,EACJqH,GAAS,SAACG,GACR,OAAOA,EAAUxD,KAAI,SAAAC,GACnB,OAAGA,EAAKlH,KAAOA,EACbvD,wBAAA,GACKyK,GAAI,IACPjE,QACAyD,QAAO,IAGFQ,CAEX,GACF,IAAEgD,EAAAlO,KAAA,gBAAAkO,EAAAnO,KAAA,EAAAmO,EAAAvN,GAAAuN,EAAA,SAEA7N,QAAQO,MAAKsN,EAAAvN,IAAQ,yBAAAuN,EAAArN,OAAA,GAAAoN,EAAA,kBAExB,gBAvBezM,GAAA,OAAAwN,EAAAjO,MAAA,KAAAC,UAAA,KAyBTiO,EAAY,eAAAC,EAAA9P,YAAAC,cAAAC,MAAG,SAAA6P,EAAMnL,GAAE,OAAA3E,cAAAQ,MAAA,SAAAuP,GAAA,cAAAA,EAAArP,KAAAqP,EAAApP,MAAA,cAAAoP,EAAArP,KAAA,EAAAqP,EAAApP,KAAA,EAEpBgO,GAAWhK,GAAI,KAAD,EACtBsK,GAAS,SAACG,GAAS,OACnBA,EAAUY,QAAO,SAAAnE,GAAI,OAAIA,EAAKlH,KAAMA,CAAE,GAAC,IACtCoL,EAAApP,KAAA,eAAAoP,EAAArP,KAAA,EAAAqP,EAAAzO,GAAAyO,EAAA,SAEC/O,QAAQO,MAAKwO,EAAAzO,IAAQ,wBAAAyO,EAAAvO,OAAA,GAAAsO,EAAA,kBAExB,gBATkBlN,GAAA,OAAAiN,EAAAnO,MAAA,KAAAC,UAAA,KAyCnB,OA9BFuC,qBAAU,WACV,IAAM+L,EAAa,eAAAC,EAAAnQ,YAAAC,cAAAC,MAAG,SAAAkQ,IAAA,IAAAC,EAAA,OAAApQ,cAAAQ,MAAA,SAAA6P,GAAA,cAAAA,EAAA3P,KAAA2P,EAAA1P,MAAA,cAAA0P,EAAA3P,KAAA,EAAA2P,EAAA1P,KAAA,EAEF2N,KAAW,KAAD,EAAxB3C,EAAK0E,EAAAtP,KACXkO,EAAStD,EAAMC,KAAI,SAACjB,GAAI,OAAAvJ,wBAAA,GAAWuJ,GAAI,IAAEU,QAAQ,GAAK,KAAMgF,EAAA1P,KAAA,gBAAA0P,EAAA3P,KAAA,EAAA2P,EAAA/O,GAAA+O,EAAA,SAE5DrP,QAAQO,MAAK8O,EAAA/O,IAAS,yBAAA+O,EAAA7O,OAAA,GAAA2O,EAAA,kBAErB,kBAPkB,OAAAD,EAAAxO,MAAA,KAAAC,UAAA,KAQnBsO,GACA,GAAG,IAEH/L,qBAAU,WACJpB,GACFuC,EAAS,SAcX,GAAG,CAACA,EAAUvC,IAGZoG,eAAA,OAAA5F,SAAA,CAAK,WAEHkB,cAAC+E,GAAM,CAACnJ,SAAuB,OAAb2C,QAAa,IAAbA,OAAa,EAAbA,EAAe8B,OACjCL,cAACoF,GAAS,CAACC,WAAYA,EACtBZ,SApKgB,SAACvE,GACpBsK,EAActK,EAChB,EAmKKqF,UAAWoF,EACZrF,UAAWwF,IACX9K,cAACkH,GAAc,CACdC,MAAOA,EACPd,OAAQ6E,EACR5E,SAAU8E,EACVhF,aAAc2E,EACdxE,aA7FqB,SAAHlJ,GAAsB,IAAjB8C,EAAE9C,EAAF8C,GAAI0G,EAAMxJ,EAANwJ,OAC5B4D,GAAS,SAACG,GACN,OAAOA,EAAUxD,KAAI,SAAAC,GACnB,OAAGA,EAAKlH,KAAOA,EACdvD,wBAAA,GACIyK,GAAI,IAAER,WAGTjK,wBAAA,GAAWyK,GAAI,IAAER,QAAO,GAG5B,GACJ,GACH,IAkFG7G,cAACwH,GAAM,CAACC,WAAYiD,MAG1B,EC1KeoB,OAjBf,WACE,OACE9L,cAAA,OAAKwF,UAAU,MAAK1G,SACpBkB,cAAC+L,IAAa,CAAAjN,SACdkB,cAACnB,EAAY,CAAAC,SACX4F,eAACsH,IAAM,CAAAlN,SAAA,CACHkB,cAACiM,IAAK,CAACC,KAAK,QAAQC,QAASnM,cAAC0H,GAAS,MACvC1H,cAACiM,IAAK,CAACC,KAAK,SAASC,QAASnM,cAAC+I,GAAU,MACzC/I,cAACiM,IAAK,CAACC,KAAK,QAAQC,QAASnM,cAACuK,GAAQ,MACtCvK,cAACiM,IAAK,CAACC,KAAK,IAAIC,QAASnM,cAACY,EAAQ,cAM5C,ECPewL,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,SAAA5Q,GAAkD,IAA/C6Q,EAAM7Q,EAAN6Q,OAAQC,EAAM9Q,EAAN8Q,OAAQC,EAAM/Q,EAAN+Q,OAAQC,EAAMhR,EAANgR,OAAQC,EAAOjR,EAAPiR,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,EACV,GAEJ,ECJaQ,IAASC,WAAWC,SAASC,eAAe,SACpDC,OACHjN,cAACkN,IAAMC,WAAU,CAAArO,SACfkB,cAAC8L,GAAG,OAORM,I","file":"static/js/main.dd3d4ffc.chunk.js","sourcesContent":["var _path, _path2, _path3, _path4;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgAcLogo(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 40,\n    viewBox: \"0 0 40 40\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M25.6996 18.4709C25.6996 18.4709 18.2328 30.5781 12.1109 30.5781C1.40314 30.5781 11.3821 7.51318 19.1916 7.51318C24.641 7.51318 25.6996 18.4709 25.6996 18.4709Z\",\n    fill: \"#FF6600\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M34.5723 33.6972C32.4451 35.9607 29.8198 37.6976 26.9044 38.7701C23.989 39.8426 20.8639 40.2213 17.7767 39.8761C14.6895 39.5309 11.7252 38.4713 9.11881 36.7813C6.51245 35.0914 4.33573 32.8175 2.76123 30.1401C4.5314 32.5477 7.53375 34.1527 11.803 34.1527C22.3199 34.1527 28.2899 25.98 28.2899 25.98C28.2899 25.98 28.8062 32.4392 34.5593 33.6972H34.5723Z\",\n    fill: \"#FF6600\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M37.7223 10.7451C39.2963 13.7527 40.0781 17.1116 39.9939 20.505C39.9096 23.8984 38.9621 27.2144 37.2407 30.1401C35.8792 29.3764 34.8725 28.1082 34.4379 26.609L32.1558 19.7724L37.7223 10.7451Z\",\n    fill: \"#FF6600\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M20.0031 0.0173688C25.0185 0.0140335 29.8513 1.89881 33.5398 5.29665L29.7521 11.4088C28.3811 7.84302 25.5957 4.2729 20.1767 4.2729C9.07841 4.2729 0.852307 16.3888 0.852307 23.9846C0.849861 24.9669 0.975283 25.9454 1.22543 26.8953C0.115582 23.8725 -0.247948 20.6265 0.165719 17.4331C0.579385 14.2398 1.75802 11.1934 3.60147 8.55306C5.44491 5.91269 7.89866 3.75634 10.7542 2.26726C13.6097 0.778179 16.7826 0.000388507 20.0031 0V0.0173688Z\",\n    fill: \"#FF6600\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAcLogo);\nexport default __webpack_public_path__ + \"static/media/ac-logo.eea79863.svg\";\nexport { ForwardRef as ReactComponent };","import axios from 'axios';\r\n\r\nconst authURL = 'https://todo-list.alphacamp.io/api/auth';\r\n\r\nexport const login = async ({ username, password }) => {\r\n  try {\r\n    const { data } = await axios.post(`${authURL}/login`, {\r\n      username,\r\n      password,\r\n    });\r\n    console.log(data)\r\n    const { authToken } = data;\r\n    if (authToken) {\r\n      return { success: true, ...data };\r\n    }\r\n    return data;\r\n  } catch (error) {\r\n    console.error('[Login Failed]:', error);\r\n  }\r\n};\r\n\r\nexport const register = async ({ username, email, password }) => {\r\n  try {\r\n    const { data } = await axios.post(`${authURL}/register`, {\r\n      username,\r\n      email,\r\n      password,\r\n    });\r\n    const { authToken } = data;\r\n\r\n    if (authToken) {\r\n      return { success: true, ...data };\r\n    }\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.error('[Register Failed]: ', error);\r\n  }\r\n};\r\n\r\n\r\nexport const checkPermission = async (authToken) => {\r\n  try {\r\n    const response = await axios.get(`${authURL}/test-token`, {\r\n      headers: {\r\n        Authorization: 'Bearer ' + authToken,\r\n      },\r\n    });\r\n    return response.data.success;\r\n  } catch (error) {\r\n    console.error('[Check Permission Failed]:', error);\r\n  }\r\n};\r\n"," import { login, register, checkPermission } from 'api/auth';\r\nimport { createContext, useState, useEffect } from 'react';\r\nimport * as jwt from 'jsonwebtoken';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useContext } from 'react';\r\n\r\nconst defaultAuthContext = {\r\n  isAuthenticated: false,\r\n  currentMember: null,\r\n  register: null,\r\n  login: null,\r\n  logout: null,\r\n};\r\n\r\nconst AuthContext = createContext(defaultAuthContext);\r\nexport const useAuth = () => useContext(AuthContext);\r\nexport const AuthProvider = ({ children }) => {\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [payload, setPayload] = useState(null);\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    const checkTokenIsValid = async () => {\r\n      const authToken = localStorage.getItem('authToken');\r\n      if (!authToken) {\r\n        setIsAuthenticated(false);\r\n        setPayload(null);\r\n        return;\r\n      }\r\n      const result = await checkPermission(authToken);\r\n      if (result) {\r\n        setIsAuthenticated(true);\r\n        const tempPayload = jwt.decode(authToken);\r\n        setPayload(tempPayload);\r\n      } else {\r\n        setIsAuthenticated(false);\r\n        setPayload(null);\r\n      }\r\n    };\r\n\r\n    checkTokenIsValid();\r\n  }, [pathname]);\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        isAuthenticated,\r\n        currentMember: payload && {\r\n          id: payload.sub,\r\n          name: payload.name,\r\n        },\r\n        register: async (data) => {\r\n          const { success, authToken } = await register({\r\n            username: data.username,\r\n            email: data.email,\r\n            password: data.password,\r\n          });\r\n          const tempPayload = jwt.decode(authToken);\r\n          if (tempPayload) {\r\n            setPayload(tempPayload);\r\n            setIsAuthenticated(true);\r\n            localStorage.setItem('authToken', authToken);\r\n          } else {\r\n            setPayload(null);\r\n            setIsAuthenticated(false);\r\n          }\r\n          return success;\r\n        },\r\n        login: async (data) => {\r\n          const { success, authToken } = await login({\r\n            username: data.username,\r\n            password: data.password,\r\n          });\r\n          const tempPayload = jwt.decode(authToken);\r\n          if (tempPayload) {\r\n            setPayload(tempPayload);\r\n            setIsAuthenticated(true);\r\n            localStorage.setItem('authToken', authToken);\r\n          } else {\r\n            setPayload(null);\r\n            setIsAuthenticated(false);\r\n          }\r\n          return success;\r\n        },\r\n        logout: () => {\r\n          localStorage.removeItem('authToken');\r\n          setPayload(null);\r\n          setIsAuthenticated(false);\r\n        },\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};"," import { useAuth } from '../contexts/AuthContext';\r\nimport { useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst HomePage = () => {\r\n  const { isAuthenticated } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      navigate('/todos');\r\n    } else {\r\n      navigate('/login');\r\n    }\r\n  }, [navigate, isAuthenticated]);\r\n};\r\n\r\nexport default HomePage;","import styled from 'styled-components';\r\n\r\nconst StyedContainer = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 50px;\r\n`;\r\n\r\nconst StyledAuthInputContainer = styled.div`\r\n  width: 50%;\r\n  margin-top: 30px;\r\n`;\r\n\r\nconst StyledButton = styled.button`\r\n  border-radius: 30px;\r\n  background-color: #ff6600;\r\n  border: none;\r\n\r\n  color: white;\r\n  min-width: 300px;\r\n  font-family: 'Noto Sans TC', sans-serif;\r\n  font-weight: bold;\r\n  padding: 6px 0;\r\n  margin: 2rem 0;\r\n\r\n  &.hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst StyledLinkText = styled.div`\r\n  color: #0062ff;\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n`;\r\n\r\nexport {\r\n  StyedContainer as AuthContainer,\r\n  StyledAuthInputContainer as AuthInputContainer,\r\n  StyledButton as AuthButton,\r\n  StyledLinkText as AuthLinkText,\r\n};\r\n","export default __webpack_public_path__ + \"static/media/check-active.680985db.svg\";","export default __webpack_public_path__ + \"static/media/check-circle.ad8591fd.svg\";","export default __webpack_public_path__ + \"static/media/check-hover.f1b1bcfd.svg\";","import styled from 'styled-components';\r\n\r\nconst StyledContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  background-color: #f5f8fa;\r\n  width: 100%;\r\n  height: 54px;\r\n  border-bottom: 2px solid black;\r\n`;\r\nconst StyledLabel = styled.label`\r\n  font-size: 14;\r\n  color: '#696974';\r\n  text-align: start;\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  outline: none;\r\n  border: none;\r\n  background-color: #f5f8fa;\r\n  border-radius: 0px;\r\n`;\r\n\r\nconst AuthInput = ({type, label, value, placeholder, onChange}) => {\r\n  return (\r\n    <StyledContainer>\r\n      <StyledLabel>{label}</StyledLabel>\r\n      <StyledInput \r\n      type={type || 'text'} \r\n      value={value || ''}\r\n      placeholder={placeholder || ''}\r\n      onChange={(event) => onChange?.(event.target.value)}  />\r\n    </StyledContainer>\r\n  );\r\n};\r\n\r\nexport default AuthInput;\r\n","import styled from 'styled-components';\r\n\r\nconst StyledHeader = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  color: var(--major);\r\n  padding: 0 16px;\r\n\r\n  h3 {\r\n    font-weight: 400;\r\n    user-select: none;\r\n  }\r\n`;\r\n\r\nconst StyledGreetingText = styled.div`\r\n  color: var(--gray);\r\n  span {\r\n    color: var(--major);\r\n  }\r\n`;\r\n\r\nconst Header = ({username}) => {\r\n  return (\r\n    <StyledHeader>\r\n      <h3>Tasks</h3>\r\n      <StyledGreetingText>\r\n        Hi <span>{username}</span>\r\n      </StyledGreetingText>\r\n    </StyledHeader>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import styled from 'styled-components';\r\nimport clsx from 'clsx'\r\nconst StyledAddTodoContainer = styled.div`\r\n  min-height: 52px;\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  word-wrap: break-word;\r\n  word-break: break-word;\r\n  padding: 0 12px;\r\n  box-shadow: 0 17px 0 -16px #e5e5e5;\r\n  flex-wrap: wrap;\r\n\r\n  &.active {\r\n    box-shadow: 0 17px 0 -16px var(--major);\r\n  }\r\n`;\r\n\r\nconst StyledLabelIcon = styled.label`\r\n  display: inline-flex;\r\n  font-size: 30px;\r\n  transition: color 0.2s ease-out;\r\n  font-weight: 300;\r\n\r\n  &:after {\r\n    content: '+';\r\n  }\r\n`;\r\n\r\nconst StyledInputContainer = styled.div`\r\n  min-height: 52px;\r\n  display: flex;\r\n  align-items: center;\r\n  flex: 1;\r\n  user-select: none;\r\n\r\n  input {\r\n    flex: 1;\r\n    padding: 8px 12px;\r\n    border: 0;\r\n    outline: 0;\r\n    font-size: 1rem;\r\n\r\n    &::placeholder {\r\n      color: var(--major);\r\n      font-size: 13px;\r\n    }\r\n  }\r\n  $.active {\r\n    input::placeholder {\r\n      color: var(--gray);\r\n    }\r\n  }\r\n`;\r\n\r\nconst StyledAddTodoActionContainer = styled.div`\r\n  button {\r\n    font-size: 13px;\r\n    color: var(--major);\r\n    padding-right: 5px;\r\n    display: none;\r\n  }\r\n\r\n  &.active {\r\n    button {\r\n      display: block;\r\n    }\r\n  }\r\n`;\r\n const TodoInput = ({inputValue,onKeyDown, onChange,onAddTodo}) => {\r\n  return (\r\n    <StyledAddTodoContainer className={clsx('',{active:inputValue.length > 0})}>\r\n      <StyledLabelIcon className=\"icon\" htmlFor=\"add-todo-input\" />\r\n      <StyledInputContainer>\r\n        <input \r\n            id=\"add-todo-input\" \r\n            type=\"text\" \r\n            placeholder=\"新增工作\"\r\n            value={inputValue} \r\n            onChange={(e) => {\r\n               onChange?.(e.target.value)\r\n            } }\r\n            onKeyDown={(e) => {\r\n              if(e.key === 'Enter') {\r\n                onKeyDown?.()\r\n              }\r\n            }}\r\n           />\r\n      </StyledInputContainer>\r\n      <StyledAddTodoActionContainer className={clsx('', {active: inputValue.length > 0})}>\r\n        <button className=\"btn-reset\"  onClick={() =>\r\n              onAddTodo?.()\r\n            }>新增</button>\r\n      </StyledAddTodoActionContainer>\r\n    </StyledAddTodoContainer>\r\n  );\r\n};\r\n\r\nexport default TodoInput;\r\n","import styled from 'styled-components';\r\nimport {\r\n  CheckActiveIcon,\r\n  CheckCircleIcon,\r\n  CheckHoverIcon,\r\n} from 'assets/images';\r\nimport clsx from 'clsx'\r\nimport {useRef} from 'react'\r\n\r\nconst StyledTaskItem = styled.div`\r\n  min-height: 52px;\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  word-wrap: break-word;\r\n  word-break: break-word;\r\n  padding: 0 12px;\r\n  box-shadow: 0 17px 0 -16px #e5e5e5;\r\n  flex-wrap: wrap;\r\n\r\n  .task-item-body-input {\r\n    user-select: none;\r\n    display: none;\r\n    flex: 1;\r\n    padding: 8px 0px;\r\n    border: 0;\r\n    outline: 0;\r\n    font-size: 1rem;\r\n\r\n    &::placeholder {\r\n      color: var(--gray);\r\n      font-size: 13px;\r\n    }\r\n  }\r\n\r\n  &:hover {\r\n    background: #fff3eb;\r\n    box-shadow: inset 0 0 0 1px #fff3eb;\r\n\r\n    .task-item-action .btn-destroy {\r\n      display: inline-flex;\r\n    }\r\n  }\r\n\r\n  &.done {\r\n    .task-item-body {\r\n      color: var(--gray);\r\n      text-decoration: line-through;\r\n    }\r\n\r\n    .icon-checked {\r\n      background-image: url(${CheckActiveIcon});\r\n    }\r\n  }\r\n\r\n  &.edit {\r\n    .task-item-body-input {\r\n      display: block;\r\n    }\r\n    .task-item-body-text {\r\n      display: none;\r\n    }\r\n    .task-item-action {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  .task-item-checked {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n\r\n  .task-item-body {\r\n    font-weight: 400;\r\n    padding: 8px 12px;\r\n    flex: 1;\r\n    display: flex;\r\n  }\r\n\r\n  .task-item-action {\r\n    .btn-destroy {\r\n      display: none;\r\n      font-size: 30px;\r\n      transition: color 0.2s ease-out;\r\n      font-weight: 300;\r\n      &:after {\r\n        content: '×';\r\n      }\r\n    }\r\n  }\r\n\r\n  .icon-checked {\r\n    background-image: url(${CheckCircleIcon});\r\n    background-position: center;\r\n    background-repeat: no-repeat;\r\n\r\n    &:hover {\r\n      transition: background-image 0.5s;\r\n      background-image: url(${CheckHoverIcon});\r\n    }\r\n  }\r\n`;\r\n\r\n const TodoItem = ({todo, onToggleDone, onSave, onDelete, onChangeMode}) => {\r\n  const inputRef = useRef(null)\r\n\r\n  const handleKeyDown = (event) => {\r\n    \r\n    if(inputRef.current.value.length > 0 && event.key === 'Enter') {\r\n      onSave?.({id:todo.id, title:inputRef.current.value})\r\n    }\r\n\r\n    if(event.Key==='Escape') {\r\n      onChangeMode?.({id:todo.id, isEdit:false})\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <StyledTaskItem className={clsx(' ', { done: todo.isDone, edit: todo.isEdit })}>\r\n        <div className=\"task-item-checked\">\r\n          <span className=\"icon icon-checked\" onClick={() => { onToggleDone?.(todo.id) }} />\r\n        </div>\r\n        <div className=\"task-item-body\" onDoubleClick={() => onChangeMode?.({ id: todo.id, isEdit: true })}>\r\n          <span className=\"task-item-body-text\">{todo.title}</span>\r\n          <input ref={inputRef} className=\"task-item-body-input\" defaultValue={todo.title} onKeyDown={handleKeyDown} />\r\n        </div>\r\n        <div className=\"task-item-action \">\r\n          <button className=\"btn-reset btn-destroy icon\" onClick={() => { onDelete?.(todo.id) }}></button>\r\n        </div>\r\n      </StyledTaskItem>\r\n    </div>\r\n    \r\n  );\r\n};\r\n\r\nexport default TodoItem;","import TodoItem from './TodoItem';\r\n\r\n const TodoCollection = ({todos, onToggleDone,onSave,onDelete, onChangeMode}) => {\r\n  return (\r\n    <div>\r\n      {todos.map(item => {\r\n        return <TodoItem \r\n        key={item.id} todo={item} \r\n        onToggleDone={(id)=> onToggleDone?.(id)}\r\n        onSave={({id, title}) => onSave?.({id, title})}\r\n        onDelete={(id) => onDelete?.(id)}\r\n        onChangeMode={({id, isEdit})=>\r\n          onChangeMode?.({id, isEdit})\r\n      }/>\r\n      })}\r\n       \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TodoCollection;\r\n","import styled from 'styled-components';\r\nimport {useAuth} from '../contexts/AuthContext'\r\n// import { useNavigate } from 'react-router-dom'\r\nconst StyledFooter = styled.footer`\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  padding: 0 16px;\r\n  p {\r\n    font-size: 14px;\r\n    font-weight: 300;\r\n    margin: 2rem 0 1rem;\r\n  }\r\n`;\r\n\r\nconst StyledButton = styled.button`\r\n  padding: 0;\r\n  border: 0;\r\n  background: none;\r\n  vertical-align: baseline;\r\n  appearance: none;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  cursor: pointer;\r\n  outline: 0;\r\n\r\n  font-size: 14px;\r\n  font-weight: 300;\r\n  margin: 2rem 0 1rem;\r\n  &:hover {\r\n    text-decoration: underline;\r\n  }\r\n`;\r\n\r\n const Footer = ({numOfTodos}) => {\r\n  // const navigate = useNavigate()\r\n  const {logout } = useAuth()\r\n\r\n  const handleClick = () => {\r\n    logout()\r\n    // localStorage.removeItem('authToken');\r\n    // navigate('/signup');\r\n  };\r\n\r\n  return (\r\n    <StyledFooter>\r\n      <p>剩餘項目數： {numOfTodos}</p>\r\n      <StyledButton onClick={handleClick}>登出</StyledButton>\r\n    </StyledFooter>\r\n  );\r\n};\r\n\r\nexport default Footer;","import {\r\n  AuthContainer,\r\n  AuthInputContainer,\r\n  AuthButton,\r\n  AuthLinkText,\r\n} from 'components/common/auth.styled';\r\nimport { ACLogoIcon } from 'assets/images';\r\nimport { AuthInput } from 'components';\r\nimport { useState, useEffect } from 'react'\r\nimport { Link,useNavigate } from 'react-router-dom'\r\n// import { login, checkPermission } from '../api/auth'\r\nimport Swal from 'sweetalert2'\r\nimport { useAuth} from '../contexts/AuthContext'\r\n \r\nconst LoginPage = () => {\r\nconst[userName, setUserName] = useState('')\r\nconst[password, setPassword] = useState('')\r\nconst navigate = useNavigate()\r\nconst { login, isAuthenticated} = useAuth()\r\n\r\nconst handleClick = async () => {\r\n  if (userName.length === 0) {\r\n    return;\r\n  }\r\n  if (password.length === 0) {\r\n    return;\r\n  }\r\n \r\n  const success= await login({\r\n    userName,\r\n    password,\r\n  });\r\n  if (success) {\r\n    // localStorage.setItem('authToken', authToken);\r\n    Swal.fire({\r\n      title: '登入成功',\r\n      icon: 'success',\r\n      showConfirmButton: false,\r\n      timer: 1000,\r\n      position: 'top'\r\n    })\r\n    // navigate('/todos')\r\n    return;\r\n  }\r\n  Swal.fire({\r\n      title: '登入失敗',\r\n      icon: 'error',\r\n      showConfirmButton: false,\r\n      timer: 1000,\r\n      position: 'top'\r\n    })\r\n};\r\n\r\nuseEffect(() => {\r\n   if(isAuthenticated){\r\n    navigate('/todos')\r\n   }\r\n    // const checkTokenIsValid = async () => {\r\n    //   const authToken = localStorage.getItem('authToken');\r\n    //   if (!authToken) {\r\n    //     return;\r\n    //   }\r\n    //   const result = await checkPermission(authToken);\r\n    //   if (result) {\r\n    //     navigate('/todos');\r\n    //   }\r\n    // };\r\n\r\n    // checkTokenIsValid();\r\n  }, [navigate, isAuthenticated]);\r\n\r\n  return (\r\n    <AuthContainer>\r\n      <div>\r\n        <ACLogoIcon />\r\n      </div>\r\n      <h1>登入 Todo</h1>\r\n\r\n      <AuthInputContainer>\r\n        <AuthInput \r\n          label='帳號'\r\n          value={userName}\r\n          placeholder='請輸入帳號'\r\n          onChange={(nameInputValue) => setUserName(nameInputValue)}/>\r\n      </AuthInputContainer>\r\n\r\n      <AuthInputContainer>\r\n        <AuthInput\r\n          type=\"password\"\r\n          label='密碼'\r\n          value={password}\r\n          placeholder='請輸入密碼'\r\n          onChange={(passwordInputValue) => setPassword(passwordInputValue)} />\r\n      </AuthInputContainer>\r\n      <AuthButton onClick={handleClick}>登入</AuthButton>\r\n      <Link to=\"/signup\">\r\n<AuthLinkText>註冊</AuthLinkText>\r\n      </Link>\r\n      \r\n    </AuthContainer>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import {\r\n  AuthContainer,\r\n  AuthInputContainer,\r\n  AuthButton,\r\n  AuthLinkText,\r\n} from 'components/common/auth.styled';\r\nimport { ACLogoIcon } from 'assets/images';\r\nimport { AuthInput } from 'components';\r\nimport {useState, useEffect} from 'react'\r\nimport { Link,useNavigate } from 'react-router-dom'\r\n// import { register, checkPermission } from '../api/auth'\r\nimport Swal from 'sweetalert2'\r\nimport {useAuth} from '../contexts/AuthContext'\r\n\r\n\r\nconst SignUpPage = () => {\r\n  const[username, setUsername] = useState('')\r\nconst[password, setPassword] = useState('')\r\nconst [email, setEmail] = useState('')\r\nconst navigate = useNavigate()\r\nconst {register, isAuthenticated} = useAuth()\r\n\r\n const handleClick = async () => {\r\n      if (username.length === 0) {\r\n        return;\r\n      }\r\n      if (password.length === 0) {\r\n        return;\r\n      }\r\n      if (email.length === 0) {\r\n        return;\r\n      }\r\n\r\n    const success = await register({\r\n      username,\r\n      email,\r\n      password,\r\n    });\r\n\r\n    if (success) {\r\n      // localStorage.setItem('authToken', authToken);\r\n      Swal.fire({\r\n        position: 'top',\r\n        title: '註冊成功！',\r\n        timer: 1000,\r\n        icon: 'success',\r\n        showConfirmButton: false,\r\n      });\r\n      // navigate('/todos')\r\n      return;\r\n    }\r\n    Swal.fire({\r\n      position: 'top',\r\n      title: '註冊失敗！',\r\n      timer: 1000,\r\n      icon: 'error',\r\n      showConfirmButton: false,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if(isAuthenticated){\r\n    navigate('/todos')\r\n   }\r\n    // const checkTokenIsValid = async () => {\r\n    //   const authToken = localStorage.getItem('authToken');\r\n    //   if (!authToken) {\r\n    //     return;\r\n    //   }\r\n    //   const result = await checkPermission(authToken);\r\n    //   if (result) {\r\n    //     navigate('/todos');\r\n    //   }\r\n    // };\r\n\r\n    // checkTokenIsValid();\r\n  }, [navigate, isAuthenticated]);\r\n\r\n  return (\r\n    <AuthContainer>\r\n      <div>\r\n        <ACLogoIcon />\r\n      </div>\r\n      <h1>建立您的帳號</h1>\r\n\r\n      <AuthInputContainer>\r\n        <AuthInput \r\n        label='帳號'\r\n        value={username}\r\n        placeholder='請輸入帳號'\r\n        onChange={(nameInputValue) => setUsername(nameInputValue)}\r\n        />\r\n    </AuthInputContainer>\r\n\r\n      <AuthInputContainer>\r\n        <AuthInput \r\n        label='Email'\r\n          value={email}\r\n          placeholder='請輸入 email'\r\n          onChange={(emailInputValue) => setEmail(emailInputValue)}\r\n        />\r\n      </AuthInputContainer>\r\n\r\n      <AuthInputContainer>\r\n        <AuthInput\r\n        type=\"password\"\r\n          label=\"密碼\"\r\n          value={password}\r\n          placeholder=\"請輸入密碼\"\r\n          onChange={(passwordInputValue) => setPassword(passwordInputValue)}\r\n        />\r\n      </AuthInputContainer>\r\n      <AuthButton onClick={handleClick}>註冊</AuthButton>\r\n      <Link to=\"/login\"> \r\n       <AuthLinkText>取消</AuthLinkText>\r\n      </Link>\r\n     \r\n    </AuthContainer>\r\n  );\r\n};\r\n\r\nexport default SignUpPage;\r\n","\r\nimport axios from 'axios'\r\n \r\nconst baseUrl = 'https://todo-list.alphacamp.io/api';\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: baseUrl,\r\n})\r\n\r\n\r\n// Add a request interceptor\r\naxiosInstance.interceptors.request.use((config) =>{\r\n    // Do something before request is sent\r\n    const token = localStorage.getItem('authToken')\r\n    if(token) {\r\n      config.headers['Authorization'] = `Bearer ${token}`\r\n    }\r\n    return config;\r\n  }, \r\n  (error) => {\r\n    // Do something with request error\r\n    console.log(error);\r\n  });\r\n\r\nexport const getTodos = async () => {\r\n  try {\r\n    const res = await axiosInstance.get(`${baseUrl}/todos`);\r\n    return res.data.data;\r\n  } catch (error) {\r\n    console.error('[Get Todos failed]: ', error);\r\n  }\r\n};\r\n\r\n\r\nexport const createTodo = async (payload) => {\r\n  const { title, isDone } = payload;\r\n  try {\r\n    const res = await axiosInstance.post(`${baseUrl}/todos`, {\r\n      title,\r\n      isDone,\r\n    });\r\n    return res.data;\r\n  } catch (error) {\r\n    console.error('[Create Todo failed]: ', error);\r\n  }\r\n};\r\nexport const patchTodo = async(payload) => {\r\n  const {id, title, isDone} = payload\r\ntry{\r\n   const res = await axiosInstance.patch(`${baseUrl}/todos/${id}`,{\r\n    title,\r\n    isDone,\r\n  })\r\n  return res.data\r\n}catch(error) {\r\n  console.log('[Patch Todo failed]:',error)\r\n}\r\n \r\n};\r\nexport const deleteTodo = async(id) => {\r\ntry{\r\n  const res = await axiosInstance.delete(`${baseUrl}/todos/${id}`)\r\n  return res.data\r\n}catch(error) {\r\n  console.log('[Delete Todo failed]:',error) \r\n} \r\n};","import { Footer, Header, TodoCollection, TodoInput } from 'components';\r\nimport {useState,useEffect} from 'react'\r\nimport {getTodos,createTodo,patchTodo, deleteTodo} from '../api/todos'\r\nimport { useNavigate } from 'react-router-dom'\r\n// import { checkPermission } from '../api/auth'\r\nimport { useAuth} from '../contexts/AuthContext'\r\n\r\nconst TodoPage = () => {\r\n  const [inputValue, setInputValue] = useState('')\r\n  const [todos, setTodos] = useState([])\r\n  const navigate = useNavigate()\r\n  const {isAuthenticated, currentMember} = useAuth()\r\n  const todoNums = todos.length\r\n\r\n  const handleChange = (value) => {\r\n    setInputValue(value)\r\n  } \r\n\r\n  const handleAddTodo = async() => {\r\n    if(inputValue.length === 0){\r\n      return; \r\n    }\r\n  try{\r\n const data = await createTodo({\r\n      title: inputValue,\r\n      isDone: false,\r\n    })\r\n    setTodos((prevTodos) => {\r\n      return [\r\n        ...prevTodos,{\r\n          id: data.id,\r\n          title: data.title,\r\n          isDone: data.isDone,\r\n          isEdit:false\r\n        }\r\n       ]\r\n    })\r\n   \r\n    setInputValue('')\r\n  }catch(error) {\r\n    console.error(error)\r\n  }\r\n   \r\n  }\r\n\r\n  const handleKeyDown = async() => {\r\n    if(inputValue.length === 0){\r\n      return; \r\n    }\r\n    try{\r\n const data = await createTodo({\r\n      title: inputValue,\r\n      isDone: false,\r\n    })\r\n    setTodos((prevTodos) => {\r\n      return [\r\n        ...prevTodos,{\r\n          id: data.id,\r\n          title: data.title,\r\n          isDone: data.isDone,\r\n          isEdit:false\r\n        }\r\n       ]\r\n    })\r\n   \r\n    setInputValue('')\r\n  }catch(error) {\r\n    console.error(error)\r\n  }\r\n    // setInputValue('')\r\n   }\r\n\r\n   const handleToggleDone = async(id) => {\r\n    const currentTodo = todos.find(todo => todo.id===id)\r\ntry{\r\nawait patchTodo({id, isDone:!currentTodo.isDone})\r\n\r\n    setTodos((prevTodos) => {\r\n       return prevTodos.map(todo => {\r\n        if(todo.id === id) {\r\n          return {\r\n            ...todo,\r\n            isDone:!todo.isDone,\r\n          }\r\n        }\r\n        return todo\r\n       })\r\n    })\r\n}catch(error) \r\n{console.log(error)}\r\n       \r\n   }\r\n\r\n   const handleChangeMode = ({id, isEdit}) => {\r\n      setTodos((prevTodos) => {\r\n          return prevTodos.map(item => {\r\n            if(item.id === id){\r\n             return {\r\n              ...item, isEdit\r\n             }\r\n            }else{\r\n              return {...item, isEdit:false}\r\n             }\r\n\r\n          })\r\n      })\r\n   }\r\n  const handleSave = async({id, title}) => {\r\n\r\n    try {\r\n      await patchTodo({\r\n        id,\r\n        title,\r\n      });\r\n    setTodos((prevTodos) => {\r\n      return prevTodos.map(item => {\r\n        if(item.id === id) {\r\n          return {\r\n            ...item,\r\n            title,\r\n            isEdit:false\r\n          }\r\n        }else {\r\n          return item\r\n        }\r\n      })\r\n    })\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n   const handleDelete = async(id) => {\r\n    try{\r\n      await deleteTodo(id);\r\n    setTodos((prevTodos) => \r\n    prevTodos.filter(item => item.id !==id)\r\n    )\r\n    }catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\nuseEffect(() => {\r\nconst getTodosAsync = async () => {\r\ntry {\r\nconst todos = await getTodos();\r\nsetTodos(todos.map((todo) => ({ ...todo, isEdit: false })));\r\n} catch (error) {\r\nconsole.error (error);\r\n}\r\n};\r\ngetTodosAsync();\r\n}, []);\r\n\r\nuseEffect(() => {\r\n  if(!isAuthenticated) {\r\n    navigate('/login')\r\n  }\r\n    // const checkTokenIsValid = async () => {\r\n    //   const authToken = localStorage.getItem('authToken');\r\n    //   if (!authToken) {\r\n    //     navigate('/login');\r\n    //   }\r\n    //   const result = await checkPermission(authToken);\r\n    //   if (!result) {\r\n    //     navigate('/login');\r\n    //   }\r\n    // };\r\n\r\n    // checkTokenIsValid();\r\n  }, [navigate, isAuthenticated]);\r\n   \r\n  return (\r\n    <div>\r\n       TodoPage\r\n      <Header username={currentMember?.name}/>\r\n      <TodoInput inputValue={inputValue}\r\n       onChange={handleChange} \r\n       onAddTodo={handleAddTodo}\r\n      onKeyDown={handleKeyDown}/>\r\n      <TodoCollection \r\n       todos={todos} \r\n       onSave={handleSave}\r\n       onDelete={handleDelete}\r\n       onToggleDone={handleToggleDone}\r\n       onChangeMode={handleChangeMode} />\r\n      {/* <Footer count={todos.length}/> */}\r\n      <Footer numOfTodos={todoNums}/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TodoPage;\r\n","import './App.scss';\r\nimport { BrowserRouter, Route, Routes } from 'react-router-dom'\r\nimport { TodoPage, LoginPage, SignUpPage, HomePage } from './pages';\r\nimport { AuthProvider } from './contexts/AuthContext'\r\nfunction App() {\r\n  return (\r\n    <div className=\"app\">\r\n    <BrowserRouter>\r\n    <AuthProvider>\r\n      <Routes>\r\n          <Route path=\"login\" element={<LoginPage />} />\r\n          <Route path=\"signup\" element={<SignUpPage />} />\r\n          <Route path=\"todos\" element={<TodoPage />} />\r\n          <Route path=\"*\" element={<HomePage />} />\r\n        </Routes>\r\n    </AuthProvider>\r\n    </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}